(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{41:function(e,n,t){},42:function(e,n,t){"use strict";t.r(n);var c=t(17),a=t.n(c),r=t(8),o=t(3),u=t(2),s=t(4),i=t.n(s),d="/api/persons",l=function(){return i.a.get(d).then((function(e){return e.data}))},b=function(e){return i.a.post(d,e).then((function(e){return e.data}))},j=function(e){return i.a.delete("".concat(d,"/").concat(e)).then((function(e){return e.data}))},h=function(e,n){return i.a.put("".concat(d,"/").concat(e),n).then((function(e){return e.data}))},f=t(0),m=function(e){var n=e.searchName,t=e.handleSearchChange;return Object(f.jsxs)("div",{children:["Search Phonebook: ",Object(f.jsx)("input",{value:n,onChange:t})]})},O=function(e){var n=e.addPerson,t=e.newName,c=e.handleNameChange,a=e.newNumber,r=e.handleNumberChange;return Object(f.jsxs)("form",{onSubmit:n,children:[Object(f.jsxs)("div",{children:["Name: ",Object(f.jsx)("input",{value:t,onChange:c}),Object(f.jsx)("br",{}),Object(f.jsx)("br",{}),"Phone Number: ",Object(f.jsx)("input",{value:a,onChange:r})]}),Object(f.jsx)("button",{type:"submit",className:"btn",children:"Add"})]})},p=function(e){var n=e.persons,t=e.searchName,c=e.deleteHandler,a=n.filter((function(e){return e.name.toLowerCase().includes(t.toLowerCase())})).map((function(e){return Object(f.jsxs)("p",{children:[e.name," ",e.number,Object(f.jsx)("span",{children:Object(f.jsx)("button",{className:"btn",onClick:function(){return c(e.id)},children:"Delete"})})]})}));return Object(f.jsx)("div",{children:a})},v=function(e){var n=e.message;return null===n?null:Object(f.jsx)("div",{className:"success",children:n})},x=function(e){var n=e.message;return null===n?null:Object(f.jsx)("div",{className:"warning",children:n})},g=(t(41),function(){var e=Object(u.useState)([]),n=Object(o.a)(e,2),t=n[0],c=n[1],a=Object(u.useState)(""),s=Object(o.a)(a,2),i=s[0],d=s[1],g=Object(u.useState)(""),N=Object(o.a)(g,2),w=N[0],C=N[1],S=Object(u.useState)(""),k=Object(o.a)(S,2),D=k[0],P=k[1],y=Object(u.useState)(null),A=Object(o.a)(y,2),L=A[0],E=A[1],I=Object(u.useState)(null),T=Object(o.a)(I,2),H=T[0],J=T[1];Object(u.useEffect)((function(){console.log("useEffect operation"),l().then((function(e){c(e)}))}),[]);return Object(f.jsxs)("div",{className:"container",children:[Object(f.jsx)("h1",{children:"Phonebook App"}),Object(f.jsx)(v,{message:L}),Object(f.jsx)(x,{message:H}),Object(f.jsx)(m,{searchName:D,handleSearchChange:function(e){P(e.target.value)}}),Object(f.jsx)("h2",{children:"Add New Contact"}),Object(f.jsx)(O,{addPerson:function(e){e.preventDefault();var n={name:i,number:w,date:(new Date).toISOString};if(t.map((function(e){return e.name.toLowerCase()})).includes(i.toLowerCase())){if(window.confirm("".concat(i," is already added to phonebook, replace the old number with the new one?"))){var a=t.find((function(e){return e.name===i})),o=a.id,u=Object(r.a)(Object(r.a)({},a),{},{number:w});h(o,u).then((function(e){c(t.map((function(n){return n.id!==o?n:e})))})).catch((function(e){J("Information of ".concat(a.name," has been removed from the server")),setTimeout((function(){J(null)}),5e3)})),d(""),C(""),E("Updated ".concat(a.name,".")),setTimeout((function(){E(null)}),5e3)}}else b(n).then((function(e){c(t.concat(e))})),d(""),C(""),E("Added ".concat(i,".")),setTimeout((function(){E(null)}),5e3)},newName:i,handleNameChange:function(e){d(e.target.value)},newNumber:w,handleNumberChange:function(e){C(e.target.value)}}),Object(f.jsx)("h2",{children:"Numbers"}),Object(f.jsx)(p,{persons:t,searchName:D,deleteHandler:function(e){var n=t.find((function(n){return n.id===e}));if(window.confirm("Do you want to Delete ".concat(n.name,"?"))){j(e);var a=t.filter((function(n){return n.id!==e}));c(a)}}})]})});a.a.render(Object(f.jsx)(g,{}),document.getElementById("root"))}},[[42,1,2]]]);
//# sourceMappingURL=main.66768017.chunk.js.map